<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cube Base Defense - Vagues Fonctionnelles</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>
        <div id="gameScreenBorderEffect" style="display: none;"></div>

        <div id="waveStatusOverlay" style="display: none;">
            <div id="waveStatusText">VAGUE X EN COURS !</div>
        </div>
        
        <!-- Menu Principal -->
        <div id="menu" class="overlay-menu" style="display: flex;">
            <div class="title">CUBE BASE DEFENSE</div>
            <button class="btn" id="startGameBtn">COMMENCER LA DÉFENSE</button>
            <button class="btn" id="showRulesBtnMenu">Règles</button>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOver" class="overlay-menu" style="display: none;">
            <div class="title">NOYAU COMPROMIS</div>
            <div class="score" id="finalScore">Score: 0</div>
            <div class="subtitle" id="gameOverText">La menace a vaincu...</div>
            <button class="btn" id="restartGameBtn">NOUVEL ESSAI</button>
            <button class="btn" id="goToMenuBtnGameOver">MENU PRINCIPAL</button>
        </div>

        <!-- Pause Menu -->
        <div id="pauseMenu" class="overlay-menu" style="display: none;">
            <div class="title">PAUSE SYSTÈME</div>
            <button class="btn" id="resumeGameBtn">REPRENDRE</button>
            <button class="btn" id="goToMenuBtnPause">QUITTER LA MISSION</button>
        </div>

        <!-- UI en Jeu -->
        <div id="ui" class="ui-panel" style="display: none;">
            <div class="rule"><strong>Cubes:</strong> <span id="cubeCount">0</span></div>
            <div class="rule"><strong>Score:</strong> <span id="score">0</span></div>
            <div class="rule"><strong>Vague:</strong> <span id="waveInfo">Vague 0</span></div> <!-- Pour Vague X -->
            <div class="rule"><span id="waveTimer" style="font-weight:bold;">Initialisation...</span></div> <!-- Pour le timer/statut -->
            <div class="rule"><strong>Cash:</strong> <span id="cashDisplay">0</span></div>
            <div class="rule"><strong>Temps:</strong> <span id="survivalTime">0</span>s</div>
            <div class="rule"><strong>Noyau:</strong> <span id="baseHealthDisplay">100</span>%</div>
        </div>

        <!-- Grand Timer Central pour la Préparation de Vague -->
        <div id="bigWaveTimerOverlay" style="display: none;">
            <div id="bigWaveTimerText">VAGUE X EN APPROCHE</div>
            <div id="bigWaveCountdown">60</div>
        </div>

        <div id="gameControls" style="display: none;">
            <button id="pauseButton" class="btn">Pause</button>
        </div>

        <div id="notificationContainer"></div>
    </div>
    <script type="module" src="js/main.js"></script>
</body>
</html>